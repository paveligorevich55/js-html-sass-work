<!DOCTYPE html>
<html lang="en" ng-app="myApp">
<head>
    <meta charset="UTF-8">
    <title>Test-Task-Replay</title>
    <link rel="icon" type="image/ico" href="https://projects.invisionapp.com/share/common/img/favicon.ico">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <link rel="stylesheet" href="../dist/css/main.min.css">
</head>
<body ng-controller="CommentsCtrl">
<header>
    <div class="heading-image"></div>
</header>
<section id="main" class="main">
    <div class="container ">
        <div class="row" id="first-row">
            <div class="col-lg-1 col-md-1 col-sm-1 col-1">
                <div class="obj-star">
                    <object data="image/Star.svg" type=""></object>
                </div>
            </div>
            <div class="col-lg-10 col-md-10 col-sm-10 col-10">
                <div class="heading-h">
                    <h4>The Road to Home</h4>
                </div>
            </div>
        </div>
        <div class="row" id="second-row">
            <div class="col-lg-10 offset-lg-1 col-sm-10 offset-sm-1">
                <div class="date">
                    <time class="text-muted">June 18, 2015</time>
                </div>
            </div>
        </div>
        <div class="row" id="third-row">
            <div class="col-lg-10 offset-lg-1">
                <div class="text-box">
                    <p>Made last it seen went no just when of by.
                        Occasional entreaties comparison me difficulty so themselves.
                        At brother inquiry of offices without do my service.
                        As particular to companions at sentiments.
                        Weather however luckily enquire so certain do.
                        Aware did stood was day under ask.
                        Dearest affixed enquire on explain opinion he.
                        Reached who the mrs joy offices pleased.
                        Towards did colonel article any parties.
                    </p>
                </div>
            </div>
        </div>
        <div class="row" id="fourth-row">
            <div class="col-lg-4 col-md-12 col-sm-12 col-12 pl-0">
                <div class="image-box">
                    <img src="image/3.png" alt="middle-img" class="img-fluid">
                </div>
            </div>
            <div class="col-lg-7 col-md-12 col-sm-12 col-12">
                <div class="second-text-box">
                    <p>Needed feebly dining oh talked wisdom oppose at.
                        Applauded use attempted strangers now are middleton concluded had.
                        It is tried no added purse shall no on truth.
                        Pleased anxious or as in by viewing forbade minutes prevent.
                        Too leave had those get being led weeks blind.
                        Had men rose from down lady able. Its son him ferrars proceed six parlors.
                        Her say projection age announcing decisively men.
                        Few gay sir those green men timed downs widow chief.
                        Prevailed remainder may propriety can and.
                        Now for manners use has company believe parlors.
                        Least nor party who wrote while did.
                    </p>
                </div>
            </div>
        </div>
        <div class="row" id="fiveth-row">
            <div class="col-lg-10 offset-lg-1">
                <div class="third-text-box">
                    <p>We diminution preference thoroughly if.
                        Joy deal pain view much her time.
                        Led young gay would now state.
                        Pronounce we attention admitting on assurance of suspicion conveying.
                        That his west quit had met till.
                        Of advantage he attending household at do perceived.
                        Middleton in objection discovery as agreeable.
                        Edward thrown dining so he my around to.
                    </p>
                    <p>Sense child do state to defer mr of forty.
                        Become latter but nor abroad wisdom waited.
                        Was delivered gentleman acuteness but daughters.
                        In as of whole as match asked.
                        Pleasure exertion put add entrance distance drawings.
                        In equally matters showing greatly it as.
                        Want name any wise are able park when.
                        Saw vicinity judgment remember finished men throwing.
                    </p>
                    <p>Too leave had those get being led weeks blind.
                        Had men rose from down lady able.
                        Its son him ferrars proceed six parlors.
                        Her say projection age announcing decisively men.
                    </p>
                </div>
            </div>
        </div>
        <div class="row" id="last-content-row">
            <div class="col-lg-10 offset-lg-1 col-12 col-sm-12 col-md-12">
                <div class="content-info">
                    <ul class="list-inline pt-3">
                        <li class="text-muted"><i class="fas fa-user-alt"></i>Post by <strong>Will Smith</strong></li>
                        <li class="text-muted pl-3"><i class="far fa-clock"></i>Posted <strong><time>June 18, 2015</time></strong> at <strong><time>21:14</time></strong></li>
                        <li class="text-muted pl-3"><i class="fas fa-comment"></i><strong>12 comments</strong></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>
<section id="comments" class="comments">
    <div class="container">
        <div class="row">
            <div class="col-lg-11 offset-lg-1">
                <div class="comments-heading">
                    <h3>Leave comment:</h3>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-1 offset-lg-1 col-md-2  col-sm-2 col-4">
                <div class="profile-photo" ng-repeat="item in data | limitTo: 1">
                    <img class="profile-img" src="{{item.author.avatar}}">
                </div>
            </div>
            <div class="col-lg-10 col-md-9 col-sm-10 col-8">
                <div class="text-area-comments">
                    <textarea name="post-comments" maxlength="255" id="post-comments" rows="3" placeholder="Your Message" required="" ng-model="comment.content"></textarea>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-11 col-sm-10 offset-sm-1 offset-lg-1">
                <div class="button-post-comment text-right">
                    <button class="btn btn-warning text-muted" type="submit" id="send" ng-click="addComment(comment)">Send</button>
                </div>
            </div>
        </div>
        <hr>
    </div>
    <div class="container" id="comments-block" >
        <div class="row" ng-repeat="item in data | orderBy: '-created_at' | limitTo: n">
            <div class="col-lg-1 offset-lg-1 col-md-1 col-sm-1 col-1">
                <div class="profile-photo">
                    <img class="profile-img" src="{{item.author.avatar}}">
                </div>
            </div>
            <div class="col-lg-9 ml-5 col-md-9 col-sm-9 col-8 content" >
                <span class="pname text-muted">{{item.author.name}}</span>
                <span class="pdate text-muted">{{item.created_at | date:'MM/dd/yyyy At h:mma'}}</span>
                <br>
                <div class="content my-1">{{item.content}}</div>
                <ul class="list-inline d-flex text-muted">
                    <li><a href="" ng-click="openEditArea = !openEditArea"><span><i class="fas fa-edit"></i></span>Edit</a></li>
                    <li><a class="delete-comment" href="" ng-click="deleteComment(item.id)"><span><i class="fas fa-times pl-3"></i></span>Delete</a></li>
                    <li><a class="replytocomment" ng-click="openReplyArea = !openReplyArea" href=""><span><i class="fas fa-reply pl-3"></i></span>Replay</a></li>
                </ul>
                <div class="row" ng-show="openEditArea">
                    <div class="col-lg-8 offset-lg-1">
                        <div class="text-area-edit" >
                            <textarea name="post-edit" maxlength="255" id="post-edit" rows="3" cols="70" placeholder="" ng-model="item.content"></textarea>
                            <div class="col-lg-11 offset-lg-1">
                                <div class="button-post-edit text-right">
                                    <button class="btn btn-warning text-muted edit" id="edit" ng-click="editComment(item)">Edit</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row" ng-show="openReplyArea">
                    <div class="col-lg-11 offset-lg-1">
                        <div class="text-area-reply" >
                            <span class="text-muted"><i class="fas fa-reply pr-2"></i>{{item.author.name}}</span>
                            <textarea name="post-reply" maxlength="255" id="post-reply" rows="3" cols="70" placeholder="Your Message" ng-model="item.children.content"></textarea>
                            <div class="button-post-reply text-right">
                                <button class="btn btn-warning text-muted reply" id="reply" ng-click="addReply(item)">Reply</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row pb-3" ng-if="item.children.length > 0" ng-repeat="c in item.children">
                    <div class="col-lg-1 col-md-1 col-sm-1 col-1">
                        <img class="profile-img-children" src="{{c.author.avatar}}">
                    </div>
                    <div class="col-lg-10 col-md-8 col-sm-9 col-8  children-area">
                        <span class="pname-children text-muted">{{c.author.name}}</span>
                        <span class="text-muted"><i class="fas fa-reply pl-2"></i>{{item.author.name}}</span>
                        <span class="pdate-children text-muted">{{c.created_at | date:'MM/dd/yyyy At h:mma'}}</span>
                        <br>
                        <div class="content-children">{{c.content}}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row justify-content-center pb-3">
        <button class="btn btn-danger" ng-click="loadMore(event)">LoadMore</button>
    </div>
</section>


<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-route.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src="js/main.js" ></script>
</body>
</html>
